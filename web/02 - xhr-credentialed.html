<!DOCTYPE html>

<body>
  <h1>
    xhr.html - Cross Origin Request using XMLHttpRequest (XHR)
  </h1>

  <div id="status">Here here!</div>
  <script>
    document.getElementById("status").innerText="testing...";    
    
    // send cross origin request to localhost:8000
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "http://localhost:8000/api", true);
    xhr.setRequestHeader("X-PINGOTHER", "pingpong");
    xhr.onload = function () {
      document.getElementById("status").innerText = xhr.responseText;
    };
    xhr.onerror = function () {
      document.getElementById("status").innerText = "Request failed";
    };
    xhr.send();
  </script>
</body>