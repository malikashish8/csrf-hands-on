<!DOCTYPE html>

<body>
  <h1>Attacker Domain (port 8001)</h1>
  <h2>Cross Origin Request using simple XMLHttpRequest (XHR)</h2>
  <ul>
    <li>
      The request is actually sent to the server without any credentials
      (cookies)
    </li>
    <li>
      It looks like the request has failed on the client side but it has
      actually gone through
    </li>
    <li>It can be seen in the server logs</li>
  </ul>

  <pre id="status">Here here!</pre>
  <script>
    document.getElementById("status").innerText = "testing...";

    // send cross origin request to localhost:8000
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://localhost:8000/api", true);
    xhr.onload = function () {
      document.getElementById("status").innerText = xhr.responseText;
    };
    xhr.onerror = function () {
      document.getElementById("status").innerText = "XHR Error";
    };
    xhr.send();
  </script>
</body>
